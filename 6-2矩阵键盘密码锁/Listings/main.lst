C51 COMPILER V9.54   MAIN                                                                  11/18/2025 21:18:39 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <STC89C5xRC.H>
   2          #include "Delay.h"
   3          #include "LCD1602.h"
   4          #include "MatrixKey.h"
   5          
   6          /*
   7          unsigned char KeyNum;
   8          unsigned int Password;
   9          int count;
  10          void main()
  11          {
  12                  LCD_Init();
  13                  LCD_ShowString(1,1,"Password:");
  14                  while(1)
  15                  {
  16                          KeyNum=MatrixKey();
  17                          if(KeyNum!=0)
  18                      {
  19                                  
  20                                  if(KeyNum<=10)
  21                                  {
  22                                          if(count<4)
  23                                          {       
  24                                                  Password*=10;//Passworf=passworf*10
  25                                          
  26                                                  Password+=KeyNum%10;//获取一位密码
  27                                          }
  28                                          count++;//记次加1
  29                                  }
  30                                  LCD_ShowNum(2,1,Password,4);
  31                                  
  32                                  if(KeyNum==11)//如果是S11按下，为确定
  33                                  {
  34                                          if(Password==2345)
  35                                          {
  36                                                  LCD_ShowString(1,14,"ok ");
  37                                                  Password=0;
  38                                                  count=0;
  39                                                  LCD_ShowNum(2,1,Password,4);
  40                                          }
  41                                          else
  42                                          {
  43                                                  LCD_ShowString(1,14,"err");
  44                                                  Password=0;
  45                                                  count=0;
  46                                                  LCD_ShowNum(2,1,Password,4);
  47                                          }
  48                                          if(KeyNum==12)
  49                                          {
  50                                                  Password=0;
  51                                                  count=0;
  52                                                  LCD_ShowNum(2,1,Password,4);
  53                                                  
  54                                          }
C51 COMPILER V9.54   MAIN                                                                  11/18/2025 21:18:39 PAGE 2   

  55                                  }
  56                          }
  57                  }
  58          
  59          }
  60          */
  61          
  62          
  63          
  64          
  65          
  66          
  67          
  68          
  69          
  70          unsigned char KeyNum;
  71          unsigned int Password[];
  72          int i;
  73          void main()
  74          {
  75   1              LCD_Init();
  76   1              LCD_ShowString(1,1,"Password:");
  77   1              while(1)
  78   1              {
  79   2                      KeyNum=MatrixKey();
  80   2                      if(KeyNum!=0)
  81   2                  {
  82   3                              for(i=0;i<4;i++)
  83   3                              {       
  84   4                                      if(KeyNum<=10)
  85   4                                      {
  86   5                                              
  87   5                                              
  88   5                                              
  89   5                                              Password[i]=KeyNum%10;//获取一位密码
  90   5                                              
  91   5                                              //if(Password==10)
  92   5                                              //{
  93   5                                              //      Password=0;
  94   5                                              //}
  95   5                                              //else
  96   5                                              //{
  97   5                                              //      Password=n;
  98   5                                              //}
  99   5                                      }
 100   4                                      i++;
 101   4                                      LCD_ShowNum(2,i,Password[i],i);
 102   4                                                      
 103   4                                      
 104   4                              }
 105   3                              
 106   3                              
 107   3                              if(KeyNum==11)//如果是S11按下，为确定
 108   3                              {
 109   4                                      if(Password==2345)
 110   4                                      {
 111   5                                              LCD_ShowString(1,14,"ok ");
 112   5                                              Password[4]={0,0,0,0};
*** ERROR C141 IN LINE 112 OF main.c: syntax error near '{'
*** ERROR C141 IN LINE 112 OF main.c: syntax error near '}'
 113   5                                              i=0;
 114   5                                              LCD_ShowNum(2,1,Password,4);
C51 COMPILER V9.54   MAIN                                                                  11/18/2025 21:18:39 PAGE 3   

 115   5                                      }
 116   4                                      else
 117   4                                      {
 118   5                                              LCD_ShowString(1,14,"err");
 119   5                                              Password[4]={0,0,0,0};
*** ERROR C141 IN LINE 119 OF main.c: syntax error near '{'
*** ERROR C141 IN LINE 119 OF main.c: syntax error near '}'
 120   5                                              i=0;
 121   5                                              LCD_ShowNum(2,1,Password,4);
 122   5                                      }
 123   4                                      
 124   4                              }
 125   3                              
 126   3                              if(KeyNum==12)
 127   3                                      {
 128   4                                              Password[4]={0,0,0,0};
*** ERROR C141 IN LINE 128 OF main.c: syntax error near '{'
*** ERROR C141 IN LINE 128 OF main.c: syntax error near '}'
 129   4                                              i=0;
 130   4                                              LCD_ShowNum(2,1,Password,4);
 131   4                                              
 132   4                                      }
 133   3                      }       
 134   2      
 135   2              }
 136   1      }
 137          
 138          
 139          

C51 COMPILATION COMPLETE.  0 WARNING(S),  6 ERROR(S)
